{% extends 'base.html.twig' %}

{% block title %}Administration des Cartes
{% endblock %}

{% block body %}
	<div class="admin-header">
		<img src="{{ asset('icons/admin/admin.png') }}" alt="Admin" class="admin-icon">
		<h1>Gestion des Cartes</h1>
		<a href="{{ path('admin_card_new') }}" class="btn-primary">
			Ajouter une carte
		</a>
	</div>

	<div class="card-grid">
		{% for card in cards %}
			<div class="card-wrapper">
				<div class="admin-actions">
					<a href="{{ path('admin_card_edit', { id: card.id }) }}" title="Modifier">
						<img src="{{ asset('icons/admin/plume.png') }}" alt="Modifier" class="admin-icon-card"/>
					</a>

					<form method="post" action="{{ path('admin_card_delete', { id: card.id }) }}" onsubmit="return confirm('Supprimer cette carte ?');">
						<input type="hidden" name="_token" value="{{ csrf_token('delete' ~ card.id) }}">
						<button type="submit" title="Supprimer" class="btn-icon">
							<img src="{{ asset('icons/admin/cross.png') }}" alt="Supprimer" class="admin-icon-card"/>
						</button>
					</form>
				</div>
				{% include 'components/card.html.twig' with { card: card } %}
			</div>
		{% else %}
			<p>Aucune carte trouv√©e.</p>
		{% endfor %}
	</div>
{% endblock %}
