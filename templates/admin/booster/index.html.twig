{% extends 'base.html.twig' %}

{% block title %}Gestion des Boosters
{% endblock %}

{% block body %}
	<div class="admin-header">
		<img src="{{ asset('icons/admin/admin.png') }}" alt="Admin" class="admin-icon">
		<h1>Gestion des Boosters</h1>
		<a href="{{ path('admin_booster_new') }}" class="btn-primary">
			Ajouter un booster
		</a>
	</div>

	<div class="admin-booster-grid">
		{% for booster in boosters %}
			<div class="booster-wrapper">
				<div class="admin-actions">
					<a href="{{ path('admin_booster_edit', { id: booster.id }) }}" title="Modifier">
						<img src="{{ asset('icons/admin/plume.png') }}" alt="Modifier" class="admin-icon-card"/>
					</a>

					<form method="post" action="{{ path('admin_booster_delete', { id: booster.id }) }}" onsubmit="return confirm('Supprimer ce booster ?');">
						<input type="hidden" name="_token" value="{{ csrf_token('delete' ~ booster.id) }}">
						<button type="submit" title="Supprimer" class="btn-icon">
							<img src="{{ asset('icons/admin/cross.png') }}" alt="Supprimer" class="admin-icon-card"/>
						</button>
					</form>
				</div>

				{# ✅ Component booster #}
				{% include 'components/booster.html.twig' with {
					booster: {
						backgroundUrl: booster.backgroundUrl,
						titleTop: 'Elebos Chronicles',
						subtitleTop: 'The Card Game',
						symbolUrl: booster.imageUrl,
						titleBottom: booster.boosterName,
						cardCount: booster.cardCount,
						cardLabel: 'Cartes'
					}
				} %}
			</div>
		{% else %}
			<p>Aucun booster trouvé.</p>
		{% endfor %}
	</div>
{% endblock %}
