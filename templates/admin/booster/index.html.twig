{% extends 'base.html.twig' %}

{% block title %}Gestion des Boosters{% endblock %}

{% block body %}
	<div class="admin-header">
		<img src="{{ asset('icons/admin/admin.png') }}" alt="Admin" class="admin-icon">
		<h1>Gestion des Boosters</h1>
		<a href="{{ path('admin_booster_new') }}" class="btn-primary">
			Ajouter un booster
		</a>
	</div>

	<div class="admin-booster-grid">
		{% for booster in boosters %}
			<div class="booster-wrapper">
				<div class="admin-actions">
					<a href="{{ path('admin_booster_edit', { id: booster.id }) }}" title="Modifier">
						<img src="{{ asset('icons/admin/plume.png') }}" alt="Modifier" class="admin-icon-card"/>
					</a>

					<form method="post" action="{{ path('admin_booster_delete', { id: booster.id }) }}" onsubmit="return confirm('Supprimer ce booster ?');">
						<input type="hidden" name="_token" value="{{ csrf_token('delete' ~ booster.id) }}">
						<button type="submit" title="Supprimer" class="btn-icon">
							<img src="{{ asset('icons/admin/cross.png') }}" alt="Supprimer" class="admin-icon-card"/>
						</button>
					</form>
				</div>

				{# ✅ Component booster #}
				{% include 'components/booster.html.twig' with {
					booster: {
						backgroundUrl: booster.backgroundUrl,
						titleTop: 'Elebos Chronicles',
						subtitleTop: 'The Card Game',
						symbolUrl: booster.imageUrl,
						titleBottom: booster.boosterName,
						cardCount: booster.cardCount,
						cardLabel: 'Cartes'
					}
				} %}
			</div>
		{% else %}
			<p>Aucun booster trouvé.</p>
		{% endfor %}
	</div>

	<style>
		.admin-booster-grid {
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
			gap: 1.5rem;
			margin-top: 1rem;
			justify-content: center; /* ✅ Centre la grille horizontalement */
			justify-items: center; /* ✅ Centre chaque booster dans sa colonne */
			padding: 2rem; /* ✅ Un peu d'air autour */
		}


		.booster-wrapper {
			display: flex;
			flex-direction: column;
			align-items: center;
			width: 100%;
			max-width: 300px;
		}

		.admin-actions {
			margin-top: 0.5rem;
			display: flex;
			gap: 5rem;
		}

		.admin-icon-card {
			width: 3rem;
			height: 3rem;
			cursor: pointer;
			transition: transform 0.2s;
		}

		.admin-icon-card:hover {
			transform: scale(1.2);
		}

		.btn-icon {
			background: none;
			border: none;
			padding: 0;
			cursor: pointer;
		}

		.admin-header {
			text-align: center;
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			margin-bottom: 2rem;
			margin-top: 2rem;
		}

		.admin-header h1 {
			font-family: "Cinzel", serif;
			font-size: 2rem;
			color: #c2a35e;
			display: flex;
			align-items: center;
			gap: 0.5rem;
			margin-bottom: 1rem;
		}

		.admin-icon {
			width: 48px;
			height: 48px;
		}

		.admin-btn {
			background-color: #644d3c;
			color: #fffaf0;
			padding: 10px 18px;
			font-family: "Cinzel", serif;
			font-weight: bold;
			border-radius: 6px;
			text-decoration: none;
			transition: background-color 0.2s ease;
		}

		.admin-btn:hover {
			background-color: #4b392dff;
		}
	</style>
{% endblock %}
